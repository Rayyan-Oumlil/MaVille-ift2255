<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <title>Rapport IFT2255 - Projet MaVille</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
    <img src="images/udem_logo.png" alt="Universit√© de Montr√©al" style="width: 10rem; margin-bottom: 20px;">
    <hr>
    
    <h1>Projet MaVille - Application de Gestion des Travaux Publics</h1>
    
    <div class="important">
        <strong>Cours :</strong> IFT2255 - G√©nie Logiciel<br>
        <strong>Session :</strong> Hiver 2025<br>
        <strong>Devoir :</strong> Devoir 3 - Architecture REST Compl√®te et Syst√®me de Notifications
    </div>

    <div class="toc">
        <h2>Table des mati√®res</h2>
        <ul>
            <li>1. Cadre du projet
                <ul>
                    <li>1.1 Description du projet</li>
                    <li>1.2 √âvolution depuis les devoirs pr√©c√©dents</li>
                    <li>1.3 Hypoth√®ses</li>
                    <li>1.4 √âquipe et r√©partition du travail</li>
                </ul>
            </li>
            <li>2. Mod√©lisation du domaine
                <ul>
                    <li>2.1 Glossaire</li>
                    <li>2.2 Diagrammes m√©tier et de domaine</li>
                </ul>
            </li>
            <li>3. Mod√©lisation des exigences
                <ul>
                    <li>3.1 Besoins non-fonctionnels</li>
                    <li>3.2 Besoins fonctionnels</li>
                </ul>
            </li>
            <li>4. Architecture et conception
                <ul>
                    <li>4.1 Architecture REST</li>
                    <li>4.2 Diagrammes UML mis √† jour</li>
                    <li>4.3 Syst√®me de notifications</li>
                </ul>
            </li>
            <li>5. Impl√©mentation et tests</li>
            <li>6. Documentation technique</li>
        </ul>
    </div>

    <!-- === 1. Cadre du projet === -->
    <h2>1. Cadre du projet</h2>
    <h3>1.1 Description du projet</h3>
    <p>
        Le projet MaVille vise √† d√©velopper une application de gestion des travaux publics √† Montr√©al, permettant aux citoyens de signaler des probl√®mes sur la voie publique et de suivre l'√©tat des travaux effectu√©s par le Service des Travaux Publics de Montr√©al (STPM). L'application impl√©mente une architecture REST compl√®te avec syst√®me de notifications temps r√©el.
    </p>

    <h4>1.1.1 Contexte et probl√©matique</h4>
    <p>
        √Ä Montr√©al, les travaux publics et priv√©s sont une r√©alit√© constante qui affecte le quotidien des r√©sidents. Les chantiers, souvent impr√©vus ou mal annonc√©s, entra√Ænent des perturbations importantes, allant des embouteillages aux fermetures de routes et aux entraves pi√©tonni√®res. Ces situations cr√©ent un sentiment de frustration et d'impr√©visibilit√© chez les citoyens, qui se retrouvent souvent surpris par des interventions touchant leur mobilit√© et leur acc√®s aux services.
    </p>

    <p>
        Actuellement, les r√©sidents ont acc√®s √† certaines informations li√©es aux entraves √† la circulation gr√¢ce au service Info entraves et travaux. Ce service gratuit permet de s'informer sur les entraves caus√©es par les travaux r√©alis√©s par la Ville, ses partenaires, les promoteurs immobiliers, les entrepreneurs priv√©s et les particuliers. Cependant, le service pr√©sente certaines limites importantes, impactant son efficacit√©.
    </p>

    <h4>1.1.2 Proposition et solution</h4>
    <p>
        Le STPM (Service des Travaux Publics de Montr√©al) pense qu'une meilleure communication des activit√©s et travaux pr√©vus et entrepris par les prestataires pourrait r√©duire significativement les incompr√©hensions entre les diff√©rents acteurs. Une collaboration plus √©troite entre les r√©sidents, les prestataires et le STPM pourrait am√©liorer la coordination des travaux.
    </p>

    <p>
        Ainsi, nous proposons la cr√©ation de l'application <strong>MaVille</strong>, une solution compl√®te qui :
    </p>
    <ul>
        <li><strong>Automatise</strong> le processus de signalement et de gestion des probl√®mes routiers</li>
        <li><strong>Facilite</strong> la communication entre r√©sidents, prestataires et agents STPM</li>
        <li><strong>Am√©liore</strong> la transparence et le suivi des travaux publics</li>
        <li><strong>R√©duit</strong> les perturbations et am√©liorations de la qualit√© de vie des citoyens</li>
    </ul>

    <h4>1.1.3 Fonctionnement actuel du STPM</h4>
    <p>
        Le fonctionnement actuel du STPM pr√©sente plusieurs limitations :
    </p>
    <ul>
        <li><strong>Processus manuel</strong> : Utilisation de fichiers Excel et √©changes manuels</li>
        <li><strong>Communication limit√©e</strong> : Notifications par courriel non syst√©matis√©es</li>
        <li><strong>Manque de transparence</strong> : Difficult√© pour les r√©sidents de suivre l'√©tat des travaux</li>
        <li><strong>Coordination complexe</strong> : Gestion difficile entre les diff√©rents acteurs</li>
        <li><strong>Donn√©es dispers√©es</strong> : Informations non centralis√©es et difficilement accessibles</li>
    </ul>

    <h4>1.1.4 Objectifs de l'application MaVille</h4>
    <p>
        L'application MaVille vise √† r√©soudre ces probl√®mes en offrant :
    </p>
    <ul>
        <li><strong>Interface unifi√©e</strong> : Plateforme centralis√©e pour tous les acteurs</li>
        <li><strong>Processus automatis√©</strong> : Gestion num√©rique des signalements et projets</li>
        <li><strong>Syst√®me de notifications</strong> : Alertes temps r√©el pour tous les utilisateurs</li>
        <li><strong>Transparence totale</strong> : Suivi en temps r√©el de l'√©tat des travaux</li>
        <li><strong>Int√©gration externe</strong> : Donn√©es officielles de la ville de Montr√©al</li>
        <li><strong>Architecture moderne</strong> : Solution REST scalable et maintenable</li>
    </ul>

    <h3>1.2 √âvolution depuis les devoirs pr√©c√©dents</h3>
    <div class="evolution">
        <h4>Devoir 1 ‚Üí Devoir 2 ‚Üí Devoir 3</h4>
        <ul>
            <li><strong>Devoir 1 :</strong> Mod√©lisation du domaine, diagrammes UML, prototype console basique</li>
            <li><strong>Devoir 2 :</strong> Architecture REST, impl√©mentation compl√®te, tests unitaires, int√©gration API externe</li>
            <li><strong>Devoir 3 :</strong> Architecture REST compl√®te, syst√®me de notifications avanc√©, persistance JSON robuste, interface console interactive</li>
        </ul>
        
        <h4>Nouvelles fonctionnalit√©s du Devoir 3 :</h4>
        <ul>
            <li>‚úÖ <strong>Architecture REST compl√®te</strong> : Serveur Javalin + Client HTTP</li>
            <li>‚úÖ <strong>Syst√®me de notifications temps r√©el</strong> : Abonnements automatiques et manuels</li>
            <li>‚úÖ <strong>Persistance JSON robuste</strong> : Synchronisation des IDs, sauvegarde automatique</li>
            <li>‚úÖ <strong>Interface console interactive</strong> : Menus hi√©rarchiques, navigation intuitive</li>
            <li>‚úÖ <strong>Gestion compl√®te des projets</strong> : Cr√©ation, validation, mise √† jour de statut</li>
            <li>‚úÖ <strong>Int√©gration API externe</strong> : Donn√©es ouvertes de Montr√©al</li>
            <li>‚úÖ <strong>Filtrage avanc√©</strong> : Par quartier, type, statut, dates</li>
        </ul>
    </div>

    <h3>1.3 Description des r√¥les et fonctionnalit√©s DM3</h3>
    
    <h4>1.3.1 Profils utilisateurs</h4>
    <p>
        L'application MaVille s'adresse √† trois types d'utilisateurs distincts, chacun ayant des r√¥les et des fonctionnalit√©s sp√©cifiques :
    </p>

    <div class="user-profiles">
        <h5>üè† R√©sident</h5>
        <p>
            <strong>R√¥le :</strong> Citoyen de Montr√©al qui signale des probl√®mes routiers et suit l'√©tat des travaux dans son quartier.
        </p>
        <p>
            <strong>Fonctionnalit√©s principales :</strong>
        </p>
        <ul>
            <li>Choisir son profil au d√©marrage de l'application</li>
            <li>Modifier ses pr√©f√©rences de notification (abonnements par quartier/rue)</li>
            <li>Voir ses notifications (nombre affich√© dans le menu)</li>
            <li>Consulter les travaux en cours</li>
            <li>Consulter les travaux √† venir (3 prochains mois)</li>
            <li>Chercher ou filtrer les travaux par quartier</li>
            <li>Signaler un probl√®me routier (avec envoi automatique de notifications)</li>
        </ul>

        <h5>üè¢ Prestataire</h5>
        <p>
            <strong>R√¥le :</strong> Entreprise enregistr√©e qui propose des services de travaux publics et g√®re ses projets.
        </p>
        <p>
            <strong>Fonctionnalit√©s principales :</strong>
        </p>
        <ul>
            <li>Choisir son profil au d√©marrage de l'application</li>
            <li>Modifier ses pr√©f√©rences de notification (abonnements par quartier/type)</li>
            <li>Voir ses notifications</li>
            <li>Consulter la liste des probl√®mes routiers disponibles</li>
            <li>Soumettre une candidature √† un projet (avec envoi de notifications)</li>
            <li>Mettre √† jour les informations d'un projet (avec envoi de notifications)</li>
        </ul>

        <h5>üèõÔ∏è Agent STPM</h5>
        <p>
            <strong>R√¥le :</strong> Agent du Service des Travaux Publics de Montr√©al qui coordonne et valide les projets.
        </p>
        <p>
            <strong>Fonctionnalit√©s principales :</strong>
        </p>
        <ul>
            <li>Acc√©der au profil STPM unique (non nominatif)</li>
            <li>Recevoir des notifications automatiques pour nouveaux probl√®mes et projets</li>
            <li>Affecter une priorit√© √† un probl√®me (avec envoi de notifications)</li>
            <li>Accepter ou refuser des projets de travaux (avec envoi de notifications)</li>
            <li>G√©rer la coordination g√©n√©rale des travaux</li>
        </ul>
    </div>

    <h4>1.3.2 Fonctionnalit√©s communes</h4>
    <p>
        Tous les utilisateurs partagent certaines fonctionnalit√©s de base :
    </p>
    <ul>
        <li><strong>Interface console</strong> : Navigation intuitive avec menus hi√©rarchiques</li>
        <li><strong>Syst√®me de notifications</strong> : Alertes personnalis√©es selon les pr√©f√©rences</li>
        <li><strong>Persistance des donn√©es</strong> : Sauvegarde automatique des informations</li>
        <li><strong>Validation des entr√©es</strong> : Gestion robuste des erreurs de saisie</li>
    </ul>

    <h4>1.3.3 Flux de travail principal</h4>
    <p>
        Le processus de gestion des travaux suit un flux bien d√©fini :
    </p>
    <ol>
        <li><strong>Signalement</strong> : Un r√©sident signale un probl√®me routier</li>
        <li><strong>Priorisation</strong> : Le STPM affecte une priorit√© au probl√®me</li>
        <li><strong>Candidature</strong> : Un prestataire soumet une candidature pour r√©soudre le probl√®me</li>
        <li><strong>Validation</strong> : Le STPM accepte ou refuse la candidature</li>
        <li><strong>Ex√©cution</strong> : Le prestataire ex√©cute les travaux et met √† jour le statut</li>
        <li><strong>Suivi</strong> : Les r√©sidents sont notifi√©s des changements</li>
    </ol>

    <h4>1.3.4 Sources de donn√©es</h4>
    <p>
        L'application utilise deux sources de donn√©es pour les travaux :
    </p>
    <ul>
        <li><strong>Travaux MaVille</strong> : Projets cr√©√©s par les utilisateurs de l'application (modifiables)</li>
        <li><strong>API de Montr√©al</strong> : Travaux officiels de la ville (lecture seule)</li>
    </ul>

    <h3>1.3 Hypoth√®ses et contraintes</h3>
    
    <h4>1.3.1 Hypoth√®ses techniques</h4>
    <ul>
        <li><strong>Authentification</strong> : L'authentification est g√©r√©e par un service central de la ville de Montr√©al</li>
        <li><strong>Profil utilisateur</strong> : Les utilisateurs choisissent leur profil au d√©marrage (R√©sident, Prestataire, Agent STPM)</li>
        <li><strong>Architecture</strong> : L'application fonctionne en mode client-serveur avec API REST</li>
        <li><strong>Persistance</strong> : Les donn√©es sont persist√©es en JSON pour la simplicit√© et la portabilit√©</li>
        <li><strong>Interface</strong> : L'interface utilisateur est en ligne de commande pour ce prototype</li>
        <li><strong>Connectivit√©</strong> : L'application n√©cessite une connexion Internet pour l'API externe de Montr√©al</li>
    </ul>

    <h4>1.3.2 Contraintes fonctionnelles</h4>
    <ul>
        <li><strong>Donn√©es d'initialisation</strong> : L'application doit √™tre initialis√©e avec 5 r√©sidents, 5 prestataires, 5 probl√®mes et 5 projets</li>
        <li><strong>Notifications</strong> : Toutes les actions importantes doivent d√©clencher des notifications appropri√©es</li>
        <li><strong>Validation</strong> : L'application ne doit pas s'arr√™ter sur une mauvaise entr√©e utilisateur</li>
        <li><strong>Persistance</strong> : Les donn√©es doivent √™tre pr√©serv√©es au-del√† d'une session</li>
        <li><strong>Filtrage</strong> : Les utilisateurs doivent pouvoir filtrer les donn√©es par quartier, type et dates</li>
    </ul>

    <h4>1.3.3 Contraintes techniques</h4>
    <ul>
        <li><strong>Java 17</strong> : L'application n√©cessite Java 17 ou sup√©rieur</li>
        <li><strong>Maven</strong> : Utilisation de Maven pour la gestion des d√©pendances et la compilation</li>
        <li><strong>Port 7000</strong> : Le serveur API utilise le port 7000 par d√©faut</li>
        <li><strong>Fichiers JSON</strong> : Les donn√©es sont stock√©es dans le dossier `data/`</li>
        <li><strong>Tests unitaires</strong> : Minimum de 3 cas de tests pour 6 fonctionnalit√©s avec JUnit</li>
    </ul>

    <h3>1.4 √âquipe et r√©partition du travail</h3>
    <div class="equipe-section">
        <div class="equipe-member">
            <strong>Nom complet :</strong> Younes Lagha<br>
            <strong>Matricule :</strong> 20256168<br>
            <strong>Discord :</strong> younes_lgha<br>
            <strong>GitHub :</strong> YounesLagha<br>
            <strong>Responsabilit√©s :</strong> Architecture REST, API Server, Tests unitaires
        </div>

        <div class="equipe-member">
            <strong>Nom complet :</strong> Karim Omairi<br>
            <strong>Matricule :</strong> 20288301<br>
            <strong>Discord :</strong> dhxft<br>
            <strong>GitHub :</strong> dhxft<br>
            <strong>Responsabilit√©s :</strong> Mod√®les de donn√©es, Services m√©tier, Persistance JSON
        </div>

        <div class="equipe-member">
            <strong>Nom complet :</strong> Rayyan Oumlil<br>
            <strong>Matricule :</strong> 20299978<br>
            <strong>Discord :</strong> rayyan20062<br>
            <strong>GitHub :</strong> Rayyan-Oumlil<br>
            <strong>Responsabilit√©s :</strong> Interface utilisateur, Client HTTP, Documentation
        </div>
    </div>

    <h3>1.5 Mise √† jour compl√®te de la conception</h3>
    
    <h4>1.5.1 Architecture REST compl√®te</h4>
    <p>
        L'application MaVille impl√©mente une architecture REST moderne avec s√©paration claire entre le serveur API et le client. Cette architecture facilite la maintenance, les tests et l'extensibilit√© du syst√®me.
    </p>

    <div class="architecture-components">
        <h5>Composants de l'architecture :</h5>
        <ul>
            <li><strong>Serveur API (ApiServer.java)</strong> : Serveur Javalin sur le port 7000</li>
            <li><strong>Client HTTP (HttpClient.java)</strong> : Client OkHttp pour communiquer avec l'API</li>
            <li><strong>Interface console</strong> : Menus interactifs utilisant le client HTTP</li>
            <li><strong>Persistance JSON</strong> : Stockage des donn√©es dans des fichiers JSON</li>
        </ul>
    </div>

    <h4>1.5.2 Syst√®me de notifications avanc√©</h4>
    <p>
        Le syst√®me de notifications de MaVille offre une gestion intelligente des alertes avec plusieurs types d'abonnements :
    </p>

    <div class="notification-system">
        <h5>Types d'abonnements :</h5>
        <ul>
            <li><strong>Abonnement automatique</strong> : Lorsqu'un r√©sident signale un probl√®me, il est automatiquement abonn√© aux notifications de son quartier</li>
            <li><strong>Abonnement manuel</strong> : Possibilit√© de s'abonner √† d'autres quartiers ou rues sp√©cifiques</li>
            <li><strong>Abonnement par type</strong> : Les prestataires peuvent s'abonner aux notifications de probl√®mes par type de travaux</li>
        </ul>

        <h5>Types de notifications :</h5>
        <ul>
            <li>Nouveau projet cr√©√© dans le quartier</li>
            <li>Changement de statut d'un projet</li>
            <li>Modification des dates de travaux</li>
            <li>Probl√®me r√©solu</li>
            <li>Nouvelle priorit√© affect√©e √† un probl√®me</li>
        </ul>
    </div>

    <h4>1.5.3 Persistance JSON robuste</h4>
    <p>
        Le syst√®me de persistance JSON offre une solution simple mais robuste pour le stockage des donn√©es :
    </p>

    <div class="persistence-features">
        <h5>Caract√©ristiques de la persistance :</h5>
        <ul>
            <li><strong>Synchronisation des IDs</strong> : √âvite les doublons lors du red√©marrage</li>
            <li><strong>Sauvegarde automatique</strong> : Donn√©es persist√©es apr√®s chaque modification</li>
            <li><strong>Fichiers s√©par√©s</strong> : Un fichier JSON par type d'entit√©</li>
            <li><strong>Donn√©es de test</strong> : Initialisation automatique avec des donn√©es d'exemple</li>
            <li><strong>Gestion des erreurs</strong> : R√©cup√©ration gracieuse en cas de probl√®me de fichier</li>
        </ul>
    </div>

    <h4>1.5.4 Interface console interactive</h4>
    <p>
        L'interface console offre une navigation intuitive avec des menus hi√©rarchiques organis√©s par profil utilisateur :
    </p>

    <div class="interface-features">
        <h5>Caract√©ristiques de l'interface :</h5>
        <ul>
            <li><strong>Menus par profil</strong> : R√©sident, Prestataire, Agent STPM</li>
            <li><strong>Navigation hi√©rarchique</strong> : Maximum 3 niveaux d'imbrication</li>
            <li><strong>Retour facile</strong> : Option "0" pour revenir au menu pr√©c√©dent</li>
            <li><strong>Validation des entr√©es</strong> : Gestion des erreurs de saisie</li>
            <li><strong>Affichage format√©</strong> : Informations pr√©sent√©es de mani√®re claire</li>
            <li><strong>Compteurs de notifications</strong> : Affichage du nombre de notifications non lues</li>
        </ul>
    </div>

    <h4>1.5.5 Int√©gration API externe</h4>
    <p>
        L'application int√®gre l'API de donn√©es ouvertes de Montr√©al pour r√©cup√©rer les travaux officiels de la ville :
    </p>

    <div class="external-api">
        <h5>Fonctionnalit√©s de l'int√©gration :</h5>
        <ul>
            <li><strong>R√©cup√©ration automatique</strong> : Donn√©es des travaux en cours de la ville</li>
            <li><strong>Fusion des donn√©es</strong> : Combinaison des travaux MaVille et officiels</li>
            <li><strong>Filtrage unifi√©</strong> : Recherche dans toutes les sources de donn√©es</li>
            <li><strong>Gestion des erreurs</strong> : R√©cup√©ration gracieuse en cas d'indisponibilit√© de l'API</li>
        </ul>
    </div>

    <!-- === 2. Mod√©lisation du domaine === -->
    <h2>2. Mod√©lisation du domaine</h2>

    <h3>2.1 Glossaire</h3>
    <div class="glossaire">
    <ul>
        <li><strong>STPM</strong> : Service des Travaux Publics de Montr√©al. Il centralise les signalements, attribue les priorit√©s, valide les projets propos√©s par les prestataires, et g√®re la coordination g√©n√©rale.</li>
        <li><strong>R√©sident</strong> : Personne vivant √† Montr√©al. Il peut signaler un probl√®me routier, s‚Äôabonner √† des secteurs g√©ographiques, et consulter les travaux en cours.</li>
        <li><strong>Prestataire</strong> : Entreprise enregistr√©e pouvant consulter les probl√®mes signal√©s, proposer des projets et mettre √† jour l‚Äô√©tat de leurs interventions.</li>
        <li><strong>Signalement</strong> : D√©claration formelle faite par un r√©sident pour alerter le STPM d‚Äôun probl√®me sur l‚Äôespace public. Inclut un lieu, un type, une description, et des coordonn√©es.</li>
        <li><strong>Fiche de signalement</strong> : Enregistrement interne d‚Äôun signalement dans le syst√®me du STPM, contenant des informations enrichies (priorit√©, statut, affectation‚Ä¶).</li>
        <li><strong>Priorit√©</strong> : Importance assign√©e par le STPM √† un signalement. Trois niveaux possibles : faible, moyenne, √©lev√©e. Elle influence l‚Äôordre de traitement.</li>
        <li><strong>Candidature</strong> : Proposition soumise par un prestataire pour prendre en charge un ou plusieurs probl√®mes. Elle inclut la description des travaux, les dates, les co√ªts et le type d‚Äôintervention.</li>
        <li><strong>Projet</strong> : Initiative valid√©e par le STPM pour r√©soudre un ou plusieurs probl√®mes. Un projet est li√© √† une candidature accept√©e, √† un prestataire, √† un statut d‚Äôavancement, et √† des dates planifi√©es.</li>
        <li><strong>StatutProjet</strong> : Phase actuelle d‚Äôun projet. Peut √™tre : <em>En attente</em>, <em>En cours</em>, <em>Suspendu</em>, ou <em>Termin√©</em>.</li>
        <li><strong>StatutCandidature</strong> : √âtat d‚Äôune candidature d√©pos√©e. Peut √™tre : <em>En attente</em>, <em>Approuv√©e</em>, ou <em>Rejet√©e</em>.</li>
        <li><strong>TypeTravaux</strong> : Cat√©gorie d√©crivant la nature d‚Äôun projet. Exemples : travaux routiers, entretien paysager, gaz/√©lectricit√©, transports, signalisation, etc.</li>
        <li><strong>Quartier</strong> : Secteur g√©ographique administratif de Montr√©al utilis√© pour localiser les probl√®mes et filtrer les projets.</li>
        <li><strong>Filtre</strong> : Crit√®re appliqu√© par un utilisateur pour restreindre les r√©sultats visibles dans l‚Äôinterface (par type, quartier ou date).</li>
        <li><strong>Abonnement secteur</strong> : Pr√©f√©rence enregistr√©e par un r√©sident pour √™tre automatiquement inform√© des projets dans un quartier donn√©.</li>
        <li><strong>API Montr√©al</strong> : Interface fournie par la Ville de Montr√©al permettant √† l‚Äôapplication de r√©cup√©rer dynamiquement des donn√©es sur les travaux publics en cours, via des requ√™tes HTTP.</li>
    </ul>
    
    </div>

    <h3>2.2 Diagrammes m√©tier et de domaine et CU </h3>

<h3>2.3 Diagrammes d‚Äôactivit√©s ‚Äì Fonctions cl√©s</h3>

<div class="diagram-placeholder">
    <p><strong>Consulter les entraves</strong></p>
    <img src="images/ConsulterEntraves.svg" alt="Diagramme activit√© - Consulter les entraves" style="max-width: 100%; border: 1px solid #ccc;">
</div>

<div class="diagram-placeholder">
    <p><strong>Suivi d'une requ√™te</strong></p>
    <img src="images/suivi_requete.svg" alt="Diagramme activit√© - Suivi requ√™te" style="max-width: 100%; border: 1px solid #ccc;">
</div>

<div class="diagram-placeholder">
    <p><strong>Syst√®me de notifications</strong></p>
    <img src="images/Notifications.svg" alt="Diagramme activit√© - Notifications" style="max-width: 100%; border: 1px solid #ccc;">
</div>

<div class="diagram-placeholder">
    <p><strong>Plannification d'un projet</strong></p>
    <img src="images/Plannification.svg" alt="Diagramme activit√© - Plannification" style="max-width: 100%; border: 1px solid #ccc;">
</div>

<div class="diagram-placeholder">
    <p><strong>Recherche de travaux</strong></p>
    <img src="images/recherche_travaux.svg" alt="Diagramme activit√© - Recherche de travaux" style="max-width: 100%; border: 1px solid #ccc;">
</div>

<div class="diagram-placeholder"> 
    <p><strong>Suivi d'une requ√™te</strong></p>
    <img src="images/suivi_requete.svg" alt="Diagramme activit√© - Suivi requ√™te" style="max-width: 100%; border: 1px solid #ccc;">
</div>

<div class="diagram-placeholder">
    <p><strong>Syst√®me/Citoyen</p> 
    <img src="images/Act.png "alt="Diagramme activit√© - Syst√®me" style="max-width: 100%; border: 1px solid #ccc;">
</div>
    <div class="diagram-placeholder">
        <p><strong>Diagramme de classes </strong></p>
        <img src="images/diagramme_classe_modif.jpg" alt="Diagramme de classes du domaine" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px;">
    </div>
    <!-- Pour chaque diagramme ajout√© (ex : diagramme de s√©quence) : -->
    <div class="diagram-placeholder">
        <p><strong>Diagramme de s√©quence (signalement d‚Äôun probl√®me)</strong></p>
        <img src="images/Sequence_Diagram1.jpg" alt="Diagramme de s√©quence" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px;">
    </div>
    <div class="diagram-placeholder">
        <p><strong>Diagramme de cas d'utilisation </strong></p>
        <img src="images/Diagramme_CU2.jpg" alt="Diagramme de cas d'utilisation" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px;">
    </div>
    <div class="diagram-placeholder">
        <p><strong>Diagramme de cas d'utilisation (Devoir 3) </strong></p>
        <img src="images/CU.png" alt="Diagramme de cas d'utilisation" style="max-width: 100%; border: 1px solid #ddd; border-radius: 8px;">
    </div>
<h4>Justification des choix de conception‚ÄØ: encapsulation, couplage, coh√©sion, abstraction</h4>
<p>
Le design du diagramme de s√©quence r√©alis√© applique les principes fondamentaux d‚Äôencapsulation, de faible couplage, de forte coh√©sion et d‚Äôabstraction fonctionnelle.
</p>
<ul>
    <li>
        <strong>Encapsulation‚ÄØ:</strong> Chaque objet (par exemple <code>FormulaireSignalement</code>, <code>SignalementService</code>) g√®re et prot√®ge ses propres donn√©es et comportements. Cela facilite la maintenance et la lisibilit√© du code, chaque entit√© √©tant responsable de ses √©tats internes.
    </li>
    <li>
        <strong>Faible couplage‚ÄØ:</strong> Le syst√®me limite les d√©pendances entre les composants‚ÄØ: les objets communiquent uniquement via leurs interfaces publiques (ex‚ÄØ: <code>InterfaceApp</code> utilise des m√©thodes sans conna√Ætre l‚Äôimpl√©mentation). Les composants peuvent ainsi √©voluer ind√©pendamment.
    </li>
    <li>
        <strong>Forte coh√©sion‚ÄØ:</strong> Chaque classe a une responsabilit√© unique et claire. Par exemple, <code>SignalementService</code> ne g√®re que les signalements, ce qui am√©liore la clart√© et la robustesse du syst√®me.
    </li>
    <li>
        <strong>Abstraction‚ÄØ:</strong> Les utilisateurs interagissent √† un niveau abstrait, les d√©tails d‚Äôimpl√©mentation √©tant masqu√©s derri√®re des appels de m√©thode. Cela favorise la modularit√© et l‚Äô√©volutivit√© du code.
    </li>
</ul>


    <!-- === 3. Mod√©lisation des exigences === -->
    <h2>3. Mod√©lisation des exigences</h2>
<h3>3.1 Besoins non-fonctionnels</h3>
<ul>
    <li>
        <strong>Protection des donn√©es confidentielles</strong><br>
        <em>Description :</em> L‚Äôapplication ne doit pas stocker ou afficher de donn√©es sensibles (comme les noms ou adresses compl√®tes des r√©sidents) sans autorisation explicite. Les signalements doivent √™tre anonymis√©s du c√¥t√© public.<br>
        <em>Justification :</em> Le respect de la vie priv√©e est essentiel pour assurer la confiance des usagers, d‚Äôautant plus que ces normes refl√®tent celles de la Ville de Montr√©al.
    </li>
    <li>
        <strong>Capacit√© √† g√©rer plusieurs signalements simultan√©ment</strong><br>
        <em>Description :</em> Le syst√®me doit permettre l‚Äôenregistrement et la consultation de plusieurs signalements en parall√®le sans perte ou √©crasement de donn√©es.<br>
        <em>Justification :</em> En p√©riode de forte activit√© (ex.‚ÄØ: √©t√©), plusieurs r√©sidents peuvent signaler des probl√®mes en m√™me temps. L‚Äôapplication doit donc rester stable et coh√©rente.
    </li>
    <li>
        <strong>Bilinguisme (fran√ßais/anglais)</strong><br>
        <em>Description :</em> L‚Äôapplication doit √™tre disponible en fran√ßais et en anglais, avec une option de s√©lection de langue.<br>
        <em>Justification :</em> Cela refl√®te la r√©alit√© linguistique de Montr√©al et peut repr√©senter une obligation l√©gale.
    </li>
    <li>
        <strong>Rapidit√© de signalement</strong><br>
        <em>Description :</em> Le parcours utilisateur pour signaler un probl√®me ne doit pas exc√©der trois √©tapes, afin de limiter la friction et encourager l‚Äôusage.<br>
        <em>Justification :</em> Cela favorise l‚Äôusage de l‚Äôapplication et facilite son adoption par le plus grand nombre de r√©sidents.
    </li>
    <li>
        <strong>Int√©gration d‚Äôune carte de Montr√©al (version ult√©rieure)</strong><br>
        <em>Description :</em> L‚Äôapplication doit √™tre con√ßue pour pouvoir int√©grer une API cartographique (ex.‚ÄØ: Google Maps, OpenStreetMap, etc.) pour localiser visuellement les signalements, en tenant compte des permissions d‚Äôutilisation et de la granularit√© des donn√©es.<br>
        <em>Justification :</em> La localisation visuelle am√©liore la compr√©hension et le traitement des signalements, ce qui est crucial pour les r√©sidents comme pour la ville.
    </li>
</ul>

<h3>3.2 Besoins fonctionnels ‚Äì Cas d‚Äôutilisation et descriptions</h3>

<h4>Acteurs</h4>
<ul>
    <li>
        <strong>Acteur principal</strong>‚ÄØ: <br>
        <strong>R√©sidents</strong> ‚Äì habitants de la ville‚ÄØ; utilisateurs principaux du syst√®me. Ce r√¥le inclut aussi l‚Äô<strong>AgentSTPM</strong> et le <strong>Prestataire</strong>.
    </li>
    <li>
        <strong>Acteurs secondaires</strong>‚ÄØ:
        <ul>
            <li>
                <strong>AgentSTPM</strong> ‚Äì Re√ßoit les plaintes/signalements, analyse leur validit√©, et g√®re la priorit√©/acceptation.
            </li>
            <li>
                <strong>Prestataire</strong> ‚Äì Intervient sur les probl√®mes approuv√©s‚ÄØ: propose des projets, effectue les r√©parations, met √† jour l‚Äôavancement.
            </li>
        </ul>
    </li>
</ul>

<h4>Principaux cas d‚Äôutilisation</h4>
<ul>
    <li><strong>Rechercher des travaux</strong>‚ÄØ: Permet au r√©sident de chercher des travaux sp√©cifiques par quartier ou par type (routier, gaz, signalisation, etc.) pour acc√©der rapidement √† l‚Äôinformation cibl√©e.</li>
    <li><strong>Consulter les travaux</strong>‚ÄØ: Le r√©sident visualise les projets planifi√©s ou en cours, filtrables par quartier ou type. Il peut s‚Äôinformer et anticiper les impacts sur sa mobilit√©.</li>
    <li><strong>Signaler un probl√®me routier √† la ville</strong>‚ÄØ: Le r√©sident utilise l‚Äôapplication pour signaler un probl√®me/anomalie dans sa zone, en remplissant un formulaire d√©taill√©.</li>
    <li><strong>Affecter une priorit√© √† un probl√®me</strong>‚ÄØ: L‚ÄôAgentSTPM analyse les plaintes soumises et les classe par ordre de priorit√©.</li>
    <li><strong>Accepter ou refuser des projets de travaux</strong>‚ÄØ: Si la plainte est approuv√©e par l‚ÄôAgentSTPM, elle est assign√©e √† un prestataire pour intervention.</li>
    <li><strong>Mettre √† jour les informations d‚Äôun projet</strong>‚ÄØ: Apr√®s acceptation, le prestataire peut modifier la description, la date de fin, ou le statut du projet.</li>
    <li><strong>Consulter la liste des probl√®mes routiers</strong>‚ÄØ: Permet au prestataire de voir les probl√®mes √† traiter, filtrables par type, quartier ou date de d√©but.</li>
    <li><strong>Soumettre une candidature √† un projet</strong>‚ÄØ: Le prestataire propose une solution pour un probl√®me et confirme qu‚Äôil prendra en charge l‚Äôintervention.</li>
    <li><strong>Envoyer une notification</strong>‚ÄØ: Le r√©sident re√ßoit une notification √† chaque √©tape importante (prise en compte, modification, r√©solution‚Ä¶).</li>
</ul>

<h4>Sc√©nario type</h4>
<p>
Le r√©sident ouvre l‚Äôapplication, se dirige vers ‚Äúsignaler un probl√®me routier‚Äù et remplit un formulaire (type, localisation, description‚Ä¶). Il envoie le formulaire, qui est analys√© par l‚ÄôAgentSTPM (validation ou refus, affectation d‚Äôune priorit√©). Les projets accept√©s sont transmis √† un prestataire qui peut consulter, candidater ou mettre √† jour les probl√®mes/projets. √Ä chaque √©tape cl√©, le r√©sident est notifi√© de l‚Äôavancement ou de la prise en compte de sa demande.
</p>

<h4>Extensions (exceptions possibles)</h4>
<ul>
    <li>Localisation incorrecte</li>
    <li>Informations manquantes</li>
    <li>Photo floue/non lisible</li>
    <li>Probl√®me d√©j√† attribu√©</li>
</ul>

<h4>Pr√©conditions</h4>
<ul>
    <li>L‚Äôutilisateur a acc√®s √† l‚Äôapplication</li>
    <li>Agent authentifi√©</li>
    <li>Une plainte doit avoir √©t√© soumise</li>
    <li>Droit d‚Äôacc√®s √©lev√© pour l‚ÄôAgent</li>
</ul>

<h4>Postconditions</h4>
<ul>
    <li>Les plaintes/signalements sont stock√©s dans le syst√®me</li>
    <li>Approbation attendue par l‚ÄôAgent ou le Prestataire</li>
</ul>


    <!-- === 4. Prototype === -->
    <h2>4. Prototype</h2>

    <!-- === 5. Architecture logicielle et √©volution du projet === -->
    <h2>5. Architecture logicielle et √©volution du projet (Devoir 2)</h2>
    <p>
    Dans le cadre de cette deuxi√®me it√©ration du projet MaVille, l‚Äô√©quipe a poursuivi le d√©veloppement en approfondissant l‚Äôanalyse des exigences, la conception de l‚Äôarchitecture logicielle et la mise en ≈ìuvre d‚Äôune application fonctionnelle bas√©e sur une API REST. Cette section pr√©sente l‚Äôensemble des changements, am√©liorations et choix techniques r√©alis√©s‚ÄØ: revue des besoins, justification du style architectural, description des principaux composants, illustration du mod√®le objet, et organisation du d√©veloppement collaboratif.
    </p>
    <p>
    L‚Äôobjectif est de d√©montrer la capacit√© du prototype √† r√©pondre aux enjeux identifi√©s (communication, coordination, persistance, notifications) tout en assurant la modularit√©, la maintenabilit√© et l‚Äô√©volutivit√© du syst√®me. La structure du projet est expliqu√©e de fa√ßon √† pr√©parer une extension future vers des interfaces graphiques ou mobiles.
    </p>

    <h3>5.1 R√©vision des exigences et feedback</h3>
    <p>
    Suite √† la premi√®re livraison du projet MaVille, l‚Äô√©quipe a pris en compte l‚Äôensemble des retours du client, des auxiliaires et de l‚Äô√©nonc√© r√©vis√© pour faire √©voluer l‚Äôapplication dans cette seconde it√©ration‚ÄØ:
    </p>
    <ul>
        <li>
            <strong>Clarification des besoins et des acteurs‚ÄØ:</strong> Nous avons affin√© la d√©finition des r√¥les (r√©sidents, prestataires, STPM), ainsi que les interactions entre eux, pour que chaque fonctionnalit√© corresponde pr√©cis√©ment aux attentes du client.
        </li>
        <li>
            <strong>Refonte du cycle de vie des entit√©s‚ÄØ:</strong> L‚Äôensemble des cas d‚Äôutilisation (signalement, validation, candidature, projet, notifications) a √©t√© retravaill√© pour int√©grer les statuts interm√©diaires et la validation manuelle par le STPM, conform√©ment √† l‚Äô√©nonc√©.
        </li>
        <li>
            <strong>Passage √† une architecture REST compl√®te‚ÄØ:</strong> Toutes les interactions de l‚Äôapplication se font d√©sormais via des endpoints REST (GET, POST, PUT), s√©parant clairement l‚Äôinterface (menus CLI) de la logique m√©tier et de la persistance.
        </li>
        <li>
            <strong>Gestion de la persistance par fichiers JSON‚ÄØ:</strong> Chaque entit√© (probl√®me, projet, candidature, r√©sident, prestataire, notification) est d√©sormais stock√©e dans un fichier d√©di√©, garantissant la conservation des donn√©es m√™me apr√®s fermeture de l‚Äôapplication.
        </li>
        <li>
            <strong>Am√©lioration de la navigation CLI et de la validation utilisateur‚ÄØ:</strong> Les menus principaux et secondaires ont √©t√© simplifi√©s et s√©curis√©s (validation des entr√©es, messages d‚Äôerreur explicites, retour au menu principal en tout temps).
        </li>
        <li>
            <strong>Prise en charge des notifications‚ÄØ:</strong> Un m√©canisme de notification simple a √©t√© ajout√© pour informer les r√©sidents et prestataires des changements de statut de leurs signalements ou projets.
        </li>
        <li>
            <strong>Documentation et tests‚ÄØ:</strong> Le README a √©t√© mis √† jour, des instructions d‚Äôutilisation et de tests unitaires ont √©t√© ajout√©es, et la gestion du projet via GitHub a √©t√© renforc√©e (branches, issues, release).
        </li>
        <li>
            <strong>Int√©gration des feedbacks client‚ÄØ:</strong> Nous avons syst√©matiquement int√©gr√© les suggestions, telles que l‚Äôautomatisation de l‚Äôaffectation des priorit√©s, l‚Äôabonnement automatique aux notifications, et la gestion des statuts des entit√©s.
        </li>
    </ul>
    <p>
    L‚Äôensemble de ces am√©liorations garantit une solution robuste, extensible et align√©e avec les attentes du client, tout en posant les bases pour une extension future.
    </p>

    <h3>5.2 D√©finition et justification de l‚Äôarchitecture logicielle</h3>
    <ul>
        <li><strong>Style architectural retenu :</strong>
            <br>
            L‚Äôarchitecture retenue pour MaVille est une architecture en couches (n-tiers), enrichie d‚Äôune approche REST et d‚Äôune inspiration MVC pour l‚Äôorganisation du code. Le c≈ìur m√©tier est isol√© dans des gestionnaires et des mod√®les, l‚Äôinterface utilisateur est g√©r√©e via une CLI (menus), la communication inter-couche se fait par une API REST, et la persistance se fait par stockage JSON simple (un fichier par entit√©).
        </li>
        <li><strong>Justification :</strong>
            <ul>
                <li>S√©paration claire des responsabilit√©s pour chaque couche (UI, services m√©tier, stockage, API)</li>
                <li>Facilit√© d‚Äô√©volution et de maintenance‚ÄØ: on peut remplacer l‚ÄôUI ou le backend ind√©pendamment.</li>
                <li>Interop√©rabilit√©‚ÄØ: d‚Äôautres clients (web, mobile) pourraient r√©utiliser l‚ÄôAPI REST sans changement majeur.</li>
                <li>Testabilit√© et r√©utilisabilit√©‚ÄØ: chaque couche ou composant peut √™tre test√© s√©par√©ment.</li>
            </ul>
        </li>
    </ul>

    <h3>5.3 Diagramme d‚Äôarchitecture (composants principaux)</h3>
    <div class="diagram-placeholder">
        <p><strong>Diagramme d‚Äôarchitecture globale de MaVille (Devoir 2)</strong></p>
        <img src="images/\Modele_arch.jpeg" alt="Diagramme d'architecture MaVille v2" style="max-width: 100%; border: 1px solid #ccc;">
        <p style="font-size: 0.9em; color: #888;"></p>
    </div>

    <div class="explanation">
    <h4>Explication de l‚Äôarchitecture container de MaVille</h4>
    <p>
        Ce diagramme repr√©sente l‚Äôarchitecture logicielle du projet <strong>MaVille</strong> selon le mod√®le ‚Äúcontainer‚Äù (niveau C4). 
        On distingue clairement les diff√©rentes couches et composants du syst√®me :
    </p>
    <ul>
        <li>
            <strong>Utilisateurs (R√©sident, Prestataire, STPM)</strong> : 
            Interagissent via l‚Äôinterface en ligne de commande (CLI) pour signaler un probl√®me, consulter ou g√©rer des travaux.
        </li>
        <li>
            <strong>Interface CLI MaVille</strong> : 
            Point d‚Äôentr√©e de l‚Äôapplication pour tous les profils, offrant un menu console interactif.
        </li>
        <li>
            <strong>Client REST (HttpClient)</strong> : 
            Fait le lien entre la CLI et le serveur API MaVille, transmettant les requ√™tes via HTTP en JSON.
        </li>
        <li>
            <strong>Serveur API MaVille</strong> : 
            Composant central qui expose les endpoints REST, orchestre la logique m√©tier et assure la coh√©rence des traitements.
        </li>
        <li>
            <strong>Gestionnaires M√©tiers</strong> : 
            Modules sp√©cialis√©s qui g√®rent la logique propre √† chaque entit√© du domaine (probl√®mes, projets, candidatures, notifications).
        </li>
        <li>
            <strong>Database (Stockage JSON)</strong> : 
            Syst√®me de persistance utilisant des fichiers JSON pour conserver toutes les donn√©es du syst√®me, assurant ainsi la continuit√© m√™me apr√®s red√©marrage.
        </li>
        <li>
            <strong>API Info-Entraves Montr√©al</strong> : 
            Service externe consult√© par le serveur pour enrichir l‚Äôinformation sur les travaux en cours, assurant une actualisation des donn√©es publiques.
        </li>
    </ul>
    <p>
        Ce d√©coupage favorise la <strong>modularit√©</strong>, la <strong>s√©paration des responsabilit√©s</strong> et la <strong>facilit√© d‚Äô√©volution</strong> de l‚Äôapplication. 
        Il permet √©galement d‚Äôint√©grer de nouveaux clients (ex : application web ou mobile) en r√©utilisant la m√™me API REST, et garantit la robustesse du syst√®me par l‚Äôisolation des couches.
    </p>
</div>


    <h3>5.4 Diagramme de classes orient√© objet (version finale)</h3>
    <div class="diagram-placeholder">
        <p><strong>Diagramme de classes - Mod√®le orient√© objet (version finale)</strong></p>
        <img src="images/DiagCOB.png" alt="Diagramme de classes MaVille version finale" style="max-width: 100%; border: 1px solid #ccc;">
        <p style="font-size: 0.9em; color: #888;">Diagramme de classes conforme √† l'impl√©mentation actuelle avec architecture REST</p>
    </div>

    <h3>5.5 Architecture REST compl√®te</h3>
    <p>
        L'application MaVille impl√©mente une <strong>architecture REST compl√®te</strong> avec s√©paration claire entre le serveur API et le client. Cette architecture moderne facilite la maintenance, les tests et l'extensibilit√© du syst√®me.
    </p>

    <h4>5.5.1 Composants de l'architecture</h4>
    <ul>
        <li><strong>Serveur API (ApiServer.java)</strong> : Serveur Javalin sur le port 7000</li>
        <li><strong>Client HTTP (HttpClient.java)</strong> : Client OkHttp pour communiquer avec l'API</li>
        <li><strong>Interface console</strong> : Menus interactifs utilisant le client HTTP</li>
        <li><strong>Persistance JSON</strong> : Stockage des donn√©es dans des fichiers JSON</li>
    </ul>

    <h4>5.5.2 Endpoints REST principaux</h4>
    <div class="api-endpoints">
        <h5>Gestion des probl√®mes</h5>
        <ul>
            <li><code>GET /api/residents/problemes</code> - Consulter les probl√®mes signal√©s</li>
            <li><code>POST /api/residents/problemes</code> - Signaler un nouveau probl√®me</li>
            <li><code>PUT /api/stpm/problemes/{id}/priorite</code> - Modifier la priorit√© d'un probl√®me</li>
        </ul>

        <h5>Gestion des projets</h5>
        <ul>
            <li><code>GET /api/residents/travaux</code> - Consulter les travaux en cours</li>
            <li><code>GET /api/prestataires/problemes</code> - Probl√®mes disponibles pour candidature</li>
            <li><code>POST /api/prestataires/candidatures</code> - Soumettre une candidature</li>
            <li><code>PUT /api/stpm/candidatures/{id}/valider</code> - Valider une candidature</li>
            <li><code>PUT /api/prestataires/projets/{id}</code> - Mettre √† jour un projet</li>
        </ul>

        <h5>Syst√®me de notifications</h5>
        <ul>
            <li><code>GET /api/residents/notifications</code> - Consulter les notifications</li>
            <li><code>POST /api/residents/abonnements</code> - Cr√©er un abonnement</li>
            <li><code>GET /api/residents/abonnements</code> - Consulter les abonnements</li>
        </ul>

        <h5>Int√©gration externe</h5>
        <ul>
            <li><code>GET /api/montreal/travaux</code> - Travaux officiels de la ville de Montr√©al</li>
        </ul>
    </div>

    <h3>5.6 Syst√®me de notifications avanc√©</h3>
    <p>
        Le syst√®me de notifications de MaVille offre une gestion intelligente des alertes avec abonnements automatiques et manuels.
    </p>

    <h4>5.6.1 Fonctionnalit√©s du syst√®me de notifications</h4>
    <ul>
        <li><strong>Abonnement automatique</strong> : Lorsqu'un r√©sident signale un probl√®me, il est automatiquement abonn√© aux notifications de son quartier</li>
        <li><strong>Abonnement manuel</strong> : Possibilit√© de s'abonner √† d'autres quartiers ou rues sp√©cifiques</li>
        <li><strong>Types de notifications</strong> :
            <ul>
                <li>Nouveau projet cr√©√© dans le quartier</li>
                <li>Changement de statut d'un projet</li>
                <li>Modification des dates de travaux</li>
                <li>Probl√®me r√©solu</li>
            </ul>
        </li>
        <li><strong>Filtrage intelligent</strong> : Notifications personnalis√©es selon les pr√©f√©rences de l'utilisateur</li>
    </ul>

    <h3>5.7 Persistance JSON robuste</h3>
    <p>
        Le syst√®me de persistance JSON offre une solution simple mais robuste pour le stockage des donn√©es.
    </p>

    <h4>5.7.1 Caract√©ristiques de la persistance</h4>
    <ul>
        <li><strong>Synchronisation des IDs</strong> : √âvite les doublons lors du red√©marrage</li>
        <li><strong>Sauvegarde automatique</strong> : Donn√©es persist√©es apr√®s chaque modification</li>
        <li><strong>Fichiers s√©par√©s</strong> : Un fichier JSON par type d'entit√©</li>
        <li><strong>Donn√©es de test</strong> : Initialisation automatique avec des donn√©es d'exemple</li>
    </ul>

    <h3>5.8 Interface console interactive</h3>
    <p>
        L'interface console offre une navigation intuitive avec des menus hi√©rarchiques organis√©s par profil utilisateur.
    </p>

    <h4>5.8.1 Caract√©ristiques de l'interface</h4>
    <ul>
        <li><strong>Menus par profil</strong> : R√©sident, Prestataire, Agent STPM</li>
        <li><strong>Navigation hi√©rarchique</strong> : Maximum 3 niveaux d'imbrication</li>
        <li><strong>Retour facile</strong> : Option "0" pour revenir au menu pr√©c√©dent</li>
        <li><strong>Validation des entr√©es</strong> : Gestion des erreurs de saisie</li>
        <li><strong>Affichage format√©</strong> : Informations pr√©sent√©es de mani√®re claire</li>
    </ul>

    <h3>5.9 Impl√©mentation REST et persistance</h3>
<p>
    L'application MaVille s'appuie sur une <strong>architecture RESTful</strong> pour l'int√©gralit√© des interactions entre le client (interface CLI) et le serveur. Chaque fonctionnalit√© m√©tier est expos√©e via des endpoints HTTP clairs, facilitant √† la fois l'utilisation par diff√©rents clients (CLI, futur site web ou app mobile) et la maintenance/extensibilit√© du syst√®me.
</p>
<ul>
    <li>
        <strong>Principaux endpoints REST :</strong>
        <ul>
            <li><code>GET /api/problemes</code> ‚Äì Liste tous les probl√®mes signal√©s dans le syst√®me.</li>
            <li><code>POST /api/problemes</code> ‚Äì Permet √† un r√©sident de signaler un nouveau probl√®me.</li>
            <li><code>PUT /api/problemes/:id</code> ‚Äì Met √† jour les informations ou le statut d'un probl√®me existant (ex. : r√©solution, changement de priorit√©).</li>
            <li><code>GET /api/projets</code> ‚Äì R√©cup√®re la liste compl√®te des projets de travaux valid√©s ou en cours.</li>
            <li><code>POST /api/projets</code> ‚Äì Ajoute un nouveau projet (suite √† validation d'une candidature ou d'un besoin par le STPM).</li>
            <li><code>PUT /api/projets/:id</code> ‚Äì Met √† jour un projet (ex. : dates, description, statut).</li>
            <li><code>GET /api/candidatures</code> ‚Äì Liste toutes les candidatures d√©pos√©es par les prestataires.</li>
            <li><code>POST /api/candidatures</code> ‚Äì Permet √† un prestataire de soumettre une nouvelle candidature √† un ou plusieurs probl√®mes.</li>
            <li><code>PUT /api/candidatures/:id</code> ‚Äì Permet la modification ou l'annulation d'une candidature (tant qu'elle n'est pas valid√©e).</li>
            <li><code>GET /api/notifications</code> ‚Äì Liste les notifications envoy√©es aux utilisateurs (ex. : confirmation de prise en charge, changement de statut).</li>
            <li><code>POST /api/notifications</code> ‚Äì Ajoute une nouvelle notification cibl√©e.</li>
            <li><code>PUT /api/notifications/:id</code> ‚Äì Marque une notification comme lue ou modifie son contenu en cas d'erreur.</li>
        </ul>
        <p style="font-size: 0.95em; color: #666;">
            Tous les √©changes se font en <strong>JSON</strong>, garantissant l'interop√©rabilit√© et la simplicit√© d'int√©gration avec d'autres syst√®mes.
        </p>
    </li>
</ul>
<p>
    <em>
        Ce d√©coupage rigoureux entre API REST et couche de persistance positionne MaVille comme une solution moderne, √©volutive et conforme aux standards industriels, tout en facilitant la maintenance, les tests et l'ouverture vers d'autres plateformes ou services municipaux √† l'avenir.
    </em>
</p>

    <h2>6. Impl√©mentation et tests</h2>
    
    <h3>6.1 Tests unitaires</h3>
    <p>
        L'application MaVille inclut une suite de tests unitaires compl√®te pour valider le bon fonctionnement des classes principales.
    </p>

    <h4>6.1.1 Classes test√©es</h4>
    <ul>
        <li><strong>ProblemeTest.java</strong> : Tests de cr√©ation, validation et synchronisation des IDs</li>
        <li><strong>CandidatureTest.java</strong> : Tests de soumission, validation et modification</li>
        <li><strong>ResidentTest.java</strong> : Tests de gestion des r√©sidents et abonnements</li>
    </ul>

    <h4>6.1.2 Ex√©cution des tests</h4>
    <div class="code-section">
        <pre>
# Ex√©cuter tous les tests
mvn test

# Tests avec rapport d√©taill√©
mvn test -X

# Tests d'une classe sp√©cifique
mvn test -Dtest=ProblemeTest
        </pre>
    </div>
<h2>Couverture de tests ‚Äì JaCoCo</h2>

<p>
  Nous avons utilis√© <strong>JaCoCo</strong> pour √©valuer la couverture des tests unitaires. Le rapport est accessible dans le dossier <code>raport/jacoco/index.html</code>. 

</p>

    <h3>6.2 Documentation technique</h3>
    <p>
        La documentation technique compl√®te est g√©n√©r√©e automatiquement √† partir du code source.
    </p>

    <h4>6.2.1 Documentation des classes</h4>
    <p>
        Chaque classe du mod√®le inclut une documentation JavaDoc compl√®te d√©crivant :
    </p>
    <ul>
        <li>R√¥le et responsabilit√© de la classe</li>
        <li>Param√®tres des constructeurs</li>
        <li>Fonctionnalit√©s des m√©thodes publiques</li>
        <li>Exemples d'utilisation</li>
    </ul>

    <h4>6.2.2 G√©n√©ration de la documentation</h4>
    <div class="code-section">
        <pre>
# G√©n√©rer la documentation JavaDoc
mvn javadoc:javadoc

# Documentation disponible dans target/site/apidocs/index.html
        </pre>
    </div>
<h3>Int√©gration continue avec GitHub Actions</h3>
<p>
Un workflow CI a √©t√© configur√© pour ce projet avec GitHub Actions. Il est d√©fini dans le fichier <code>.github/workflows/ci.yml</code>.
√Ä chaque <strong>push</strong> ou <strong>pull request</strong> sur la branche <code>main</code>, les tests JUnit sont automatiquement ex√©cut√©s via Maven, garantissant que seul du code fonctionnel est int√©gr√© √† la branche principale.
</p>
<p>
Lien vers les workflows : 
<a href="https://github.com/IFT-2255/ift2255-ma-ville-team9/actions/runs/16689290497">https://github.com/IFT-2255/ift2255-ma-ville-team9/actions/runs/16689290497</a>
</p>

<h3>6.3 Donn√©es de test</h3>
<p>
    L'application est initialis√©e automatiquement avec des donn√©es de test :
</p>
<ul>
    <li><strong>5 r√©sidents</strong> : Marie, Jean, Sophie, Pierre, Marc</li>
    <li><strong>5 prestataires</strong> : Construction ABC Inc., Pavage Pro Lt√©e, √âlectricit√© Montr√©al, Paysagement Vert, TechnoVert Solutions</li>
    <li><strong>5 probl√®mes</strong> : Dans diff√©rents quartiers avec diverses priorit√©s</li>
    <li><strong>5 candidatures</strong> : En attente de validation par le STPM</li>
</ul>

    <h2>7. √âquipe et r√©partition du travail</h2>
    <div class="equipe-member">
        <strong>Nom complet :</strong> Younes Lagha<br>
        <strong>Matricule :</strong> 20256168<br>
        <strong>Discord :</strong> younes_lgha<br>
        <strong>GitHub :</strong> YounesLagha<br>
        <strong>Responsabilit√©s :</strong> Architecture REST, API Server, Tests unitaires
    </div>

    <div class="equipe-member">
        <strong>Nom complet :</strong> Karim Omairi<br>
        <strong>Matricule :</strong> 20288301<br>
        <strong>Discord :</strong> dhxft<br>
        <strong>GitHub :</strong> dhxft<br>
        <strong>Responsabilit√©s :</strong> Mod√®les de donn√©es, Services m√©tier, Persistance JSON
    </div>

    <div class="equipe-member">
        <strong>Nom complet :</strong> Rayyan Oumlil<br>
        <strong>Matricule :</strong> 20299978<br>
        <strong>Discord :</strong> rayyan20062<br>
        <strong>GitHub :</strong> Rayyan-Oumlil<br>
        <strong>Responsabilit√©s :</strong> Interface utilisateur, Client HTTP, Documentation
    </div>

    <hr>
   <h3>4.3 Instructions d'utilisation</h3>

<div class="code-section">
    <h4>Ex√©cution via le JAR (recommand√©)</h4>
    <pre>
 1. T√©l√©chargez le fichier maville-1.0-SNAPSHOT.jar depuis la section "Releases" du projet GitHub.
 2. Ouvrez un terminal et placez-vous dans le dossier o√π se trouve le fichier JAR.
 3. Ex√©cutez la commande suivante :
java -jar maville-1.0-SNAPSHOT.jar
    </pre>
    <h4>Alternative : Utilisation avec un IDE (IntelliJ, VSCODE, etc.)</h4>
    <ol>
        <li>Importez le projet en tant que projet Maven dans votre IDE pr√©f√©r√©.</li>
        <li>Lancez la classe <code>ca.udem.maville.Main</code> (clic droit &gt; "Run" ou √©quivalent).</li>
    </ol>
</div>


    <h4>Navigation dans l'application</h4>
    <ol>
        <li>Au d√©marrage, choisir le profil (R√©sident ou Prestataire ou STPM)</li>
        <li>Naviguer dans les menus avec les num√©ros</li>
        <li>Utiliser "0" pour revenir au menu pr√©c√©dent</li>
        <li>Suivre les instructions √† l'√©cran pour les saisies</li>
        <li>Choisir "Quitter" dans le menu principal pour terminer</li>
    </ol>

    <div class="success">
        <h3>Conclusion</h3>
        <p>Ce prototype √©volu√© d√©montre la faisabilit√© de l'application MaVille, int√®gre l'architecture REST, et pose les bases d'une application maintenable, modulaire et extensible pour la gestion des travaux publics √† Montr√©al. Les contributions de chaque membre, la rigueur du d√©veloppement collaboratif, et l'int√©gration des retours client assurent la qualit√© de la solution livr√©e.</p>
    </div>

</div>
</body>
</html>
